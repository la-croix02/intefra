import{o as n,c as v,b as t,F as C,e as k,f as E,t as h,n as M,u as D,r as i,g as F,w as P,h as N,i as o,j,v as z,k as A,l as w}from"./index-2045fdab.js";const L={class:"sidebar"},R=t("h3",{class:"sidebar__title"},"Категории",-1),U={class:"sidebar__categories-list"},q=["onClick"],de={__name:"Sidebar",props:["categories","products"],emits:["categorySelected"],setup(u,{emit:p}){const g=(s,e)=>{let l=0;for(const c of e)s.some(_=>c.category.includes(_))&&l++;return l},d=s=>{p("categorySelected",s)},y=s=>{p("statusChanged",s)};return(s,e)=>(n(),v("aside",L,[R,t("ul",U,[(n(!0),v(C,null,k(u.categories,l=>(n(),v("li",{class:"sidebar__categories-item",key:l.title,onClick:c=>(d(l.categ),y(l.title))},[E(h(l.title)+" ",1),t("span",{class:M({"sidebar__categories-count":!0,active:l.isActive})},h(g(l.categ,u.products)),3)],8,q))),128))])]))}},G="/intefra/assets/down-arrow-e832fb10.svg",H={class:"catalog"},I={class:"catalog__top"},J={class:"catalog__sort-menu"},K=t("div",{class:"catalog__sort-menu-label"},"Sort by",-1),O={class:"catalog__sort-menu-dropdown"},Q={class:"catalog__sort-menu-btn"},W=t("img",{src:G,alt:"arrow"},null,-1),X={class:"catalog__sort-menu-list"},Y=["onClick"],Z={class:"catalog__elem-per-page"},ee=t("span",null,"Show",-1),te={class:"catalog__elem-per-page-field"},se={class:"catalog__elem-per-page-btns"},ae=["disabled"],le=["disabled"],oe=t("span",null,"products per page",-1),ne={class:"catalog__pagination"},ce=["disabled"],re=["disabled"],ie={class:"catalog__products"},_e={__name:"Catalog",props:["products","type","selectedCategory"],setup(u){const p=u,g=D();let d=i([]),y=i("Select");const s=i(1);let e=i(6);const l=F(()=>d.value.length>0?Math.ceil(d.value.length/e.value):Math.ceil(p.products.length/e.value));let c=i(0),_=i(e.value-1);P(()=>e.value,()=>{c=i(0),_=i(e.value-1)});const S=i([{title:"Price",type:"price"},{title:"Title",type:"title"},{title:"Stock",type:"stock"}]);P(()=>p.selectedCategory,async(m,r)=>{y.value="Select",await g.getProducts(),d.value=await g.getProductsByCategories(m),e.value=6,console.log(e.value),V()});const B=async m=>{y.value=m,await g.getProducts(),d.value=await g.getProductsByType(p.selectedCategory,m)},f=(m,r)=>{r==="prev"?(s.value--,c.value-=e.value,_.value-=e.value):(s.value++,c.value+=e.value,_.value+=e.value)},$=()=>{e.value+=1},T=()=>{e.value>1&&(e.value-=1)},V=()=>{c.value=0,_.value=5,s.value=1};return(m,r)=>{const x=N("ProductCard");return n(),v("div",H,[t("div",I,[t("div",J,[K,t("div",O,[t("button",Q,[E(h(o(y))+" ",1),W]),t("ul",X,[(n(!0),v(C,null,k(S.value,a=>(n(),v("li",{key:a.title,onClick:b=>B(a.type)},h(a.title),9,Y))),128))])])]),t("div",Z,[ee,t("div",te,[j(t("input",{type:"number","onUpdate:modelValue":r[0]||(r[0]=a=>A(e)?e.value=a:e=a),disabled:""},null,512),[[z,o(e)]]),t("div",se,[t("button",{onClick:$,disabled:s.value>1||o(e)===u.products.length},"▲",8,ae),t("button",{onClick:T,disabled:s.value>1||o(e)===1},"▼",8,le)])]),oe]),t("div",ne,[t("button",{onClick:r[1]||(r[1]=a=>f(s.value,"prev")),disabled:s.value==1},"prev",8,ce),t("span",null,h(s.value)+" page of "+h(l.value),1),t("button",{onClick:r[2]||(r[2]=a=>f(s.value,"next")),disabled:s.value==l.value},"next",8,re)])]),t("div",ie,[o(d).length>0?(n(!0),v(C,{key:0},k(o(d),(a,b)=>(n(),w(x,{key:a.id,idx:b,product:a,type:u.type,prevElements:o(c),nextElements:o(_)},null,8,["idx","product","type","prevElements","nextElements"]))),128)):(n(!0),v(C,{key:1},k(u.products,(a,b)=>(n(),w(x,{key:a.id,idx:b,product:a,type:u.type,prevElements:o(c),nextElements:o(_)},null,8,["idx","product","type","prevElements","nextElements"]))),128))])])}}};export{de as _,_e as a};
